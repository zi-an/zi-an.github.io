<!DOCTYPE html>
<html>
<head>
  <title>二维码生成</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
  <meta content="width=device-width,initial-scale=1,user-scalable=no" name="viewport"/>
  <script src="/js/jquery.min.js" type="text/javascript"></script>
  <script src="/js/qrcode.min.js" type="text/javascript"></script>
</head>
<body style="background-color:#2f4f4f; display: flex; justify-content: center; align-items: center;">
<div>
  <input id="text" style="font-size: 50px;background-color: #2f4f4f" type="text" value=""/>
  <br>
  <div id="qrcode" style="display: flex;justify-content: center"></div>
</div>
<script type="text/javascript">
  const clientWidth = document.documentElement.clientWidth;
  const clientHeight = document.documentElement.clientHeight;
  let length = clientHeight > clientHeight ? clientWidth : clientHeight;
  length = length * 0.5;
  document.getElementById('text').style.width = length.toString() + "px";

  const qrcode = new QRCode(document.getElementById("qrcode"), {
    width: length,
    height: length,
    correctLevel: QRCode.CorrectLevel.L
  });

  function makeCode() {
    const elText = document.getElementById("text");
    qrcode.makeCode(elText.value);
  }

  makeCode();

  $("#text").on("input", function () {
    makeCode();
  });
</script>
</body>
</html>
