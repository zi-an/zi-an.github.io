[{"id":0,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8/frp/","title":"Frp","section":"软件使用","content":"\rFRP内网穿透\r#\rhttps://github.com/fatedier/frp/ https://github.com/fatedier/frp/releases/download/v0.61.1/frp_0.61.1_linux_amd64.tar.gz 服务端\r#\rwget https://github.com/fatedier/frp/releases/download/v0.61.1/frp_0.61.1_linux_amd64.tar.gz\rtar -zxvf frp_0.61.1_linux_amd64.tar.gz --transform=\u0026#34;s|frp_0.61.1_linux_amd64|frp|g\u0026#34;\r./frp/frps -c ./frp/frps.toml 客户端\r#\r因服务端不在127.0.0.1,直接替换(未备案的域名可能被拦截无法访问,最好用IP) 测试 ssh ali.mm -p 6000 修改后缀.toml为.ini可以不输入参数 sed -i \u0026#39;s|serverAddr = \u0026#34;127.0.0.1\u0026#34;|serverAddr = \u0026#34;ali.mm\u0026#34;|g\u0026#39; ./frp/frpc.toml\r./frp/frpc -c ./frp/frpc.toml 免费FRP\r#\r免费网站https://freefrp.com/\nfrpc.toml 启动: #./frpc -c frpc.toml 网页 http://public.freefrp.org:59876 serverAddr = \u0026#34;public.freefrp.org\u0026#34;\rauth.token = \u0026#34;public.freefrp.com\u0026#34;\rserverPort = 8000\r[[proxies]]\rname = \u0026#34;uzicjb\u0026#34;\rtype = \u0026#34;tcp\u0026#34;\rlocalIP = \u0026#34;6.mm\u0026#34;\rlocalPort = 80\rremotePort = 59876 "},{"id":1,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8/goaccess/","title":"Goaccess","section":"软件使用","content":"\rgoaccess\r#\r安装\r#\rapt install -y goaccess\rsed -i \u0026#39;$a log-format COMBINED\u0026#39; /etc/goaccess/goaccess.conf 生成页面\r#\rgoaccess /var/log/nginx/access.log -o 1.html "},{"id":2,"href":"/docs/%E7%AC%94%E8%AE%B0%E6%9C%AC/win11-ltsc/%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/","title":"安装系统","section":"windows 11","content":"\r系统安装\r#\r推荐使用LTSC,专业版需登录账号才能完成安装 "},{"id":3,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E7%AF%87/hadoop3.4.1-singlecluster/","title":"Hadoop 3.4.1 单机版","section":"分布式篇","content":"\rHadoop 3.4.1 单机版\r#\rhttps://www.runoob.com/w3cnote/hadoop-tutorial.html https://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/SingleCluster.html 目前JDK11能正常使用,JDK17网页无法使用上传下载 root操作\r#\rexport HADOOP_VERSION=3.4.1\rwget https://dlcdn.apache.org/hadoop/common/hadoop-${HADOOP_VERSION}/hadoop-${HADOOP_VERSION}.tar.gz\rsed -i \u0026#34;s|bookworm-updates|bookworm-updates bullseye|g\u0026#34; /etc/apt/sources.list.d/debian.sources\rapt update \u0026amp;\u0026amp; apt install openjdk-11-jdk-headless -y\rsed -i \u0026#39;$aexport HADOOP_VERSION=\\$HADOOP_VERSION\u0026#39; /etc/profile\rsed -i \u0026#39;$aexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\u0026#39; /etc/profile\rsed -i \u0026#39;$aexport HADOOP_HOME=/opt/hadoop\u0026#39; /etc/profile\rsed -i \u0026#39;$aPATH=\\$PATH:\\$JAVA_HOME/bin/:\\$HADOOP_HOME/bin:\\$HADOOP_HOME/sbin\u0026#39; /etc/profile\rsudo useradd -ms/bin/bash -k/etc/skel/ hadoop\rsudo usermod -aG sudo hadoop\recho hadoop:. | chpasswd\rtar -zxvf hadoop-${HADOOP_VERSION}.tar.gz -C /opt/ --transform=\u0026#34;s|hadoop-${HADOOP_VERSION}|hadoop|g\u0026#34;\rrm hadoop-${HADOOP_VERSION}.tar.gz\rsed -i \u0026#34;1 i JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\u0026#34; /opt/hadoop/etc/hadoop/hadoop-env.sh\rfind /opt/hadoop/ -name *cmd -delete\rmkdir /opt/hadoop/data\rchown hadoop /opt -R 文档(可以不做)\r文档 管理 apt install nginx -y\rcp /opt/hadoop/share/doc/hadoop/* /var/www/html -r\rnginx hadoop免登录hadoop\r#\rmkdir ~/.ssh\recho \u0026#34;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAgQDR5HpVwM8VvMcfS+gJBkW/IS6n7Pgcd1Rkq6AbxP7aShCFJewuPhQM6FslaARkWoAgH4wC3qtMxLkZ5fNgAPFewYEYuJXARGOIuBoAtwJYc7KYoDeYwkhFcnsWWAWezYOtqG3IapRfIgOcx3+j7HditZAn5nCsZit4WZAD+VdW3w== \u0026#34; \u0026gt;\u0026gt; ~/.ssh/authorized_keys\rchmod 700 ~/.ssh\rchmod 644 ~/.ssh/authorized_keys\rcat \u0026gt; ~/.ssh/id_rsa \u0026lt;\u0026lt;EOF\r-----BEGIN OPENSSH PRIVATE KEY-----\rb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAlwAAAAdzc2gtcn\rNhAAAAAwEAAQAAAIEA0eR6VcDPFbzHH0voCQZFvyEup+z4HHdUZKugG8T+2koQhSXsLj4U\rDOhbJWgEZFqAIB+MAt6rTMS5GeXzYADxXsGBGLiVwERjiLgaALcCWHOymKA3mMJIRXJ7Fl\rgFns2DrahtyGqUXyIDnMd/o+x3YrWQJ+ZwrGYreFmQA/lXVt8AAAIIeMsZxnjLGcYAAAAH\rc3NoLXJzYQAAAIEA0eR6VcDPFbzHH0voCQZFvyEup+z4HHdUZKugG8T+2koQhSXsLj4UDO\rhbJWgEZFqAIB+MAt6rTMS5GeXzYADxXsGBGLiVwERjiLgaALcCWHOymKA3mMJIRXJ7FlgF\rns2DrahtyGqUXyIDnMd/o+x3YrWQJ+ZwrGYreFmQA/lXVt8AAAADAQABAAAAgEsyyIGgqp\rDnKZAU6fURwjtP8B9JzzqjpiDLPHm2gnhCwNhzVcLbiuN0+/LS6X/qzKy1oLwGeujuMkMN\rF7z1mYPqqcZmpVj97BF7ITQuzVJdEs6ujva/arp3V/FQYECLGHJ+pz+IBkJhVaXpKeLJOD\raeESEOy3jCp66fH6mFiFvBAAAAQGNHUW02lSyOGdoIPvxVk+boTXuZNYENCKOtBHTxX1Fd\rvQBFMuWWvk0dEHZ1sSbGds+CHrrMGEJN6aIxKXSuKdoAAABBAPyYTB4PV6WpKiJPAy/F6m\rMViOnfjfiX9/KqFYENd5EElm8FjjJ0lmC6YwJsSOPaB18BSmi2LpG9+QB7ujMHcgUAAABB\rANS40Jx9hA9HJ3gFQ06GS5Xr3sPjoOqkmCPFC+nhNBvdOxUwxfVsKly3qI5jjs9zZ3sben\r5ge2hwzEq0xZMtxpMAAAAMcm9vdEB0ZXN0Lm1tAQIDBAUGBw==\r-----END OPENSSH PRIVATE KEY-----\rEOF\rchmod 600 ~/.ssh/id_rsa hadoop操作\r#\r/opt/hadoop/etc/core-site.xml:①使用单机网络模式 ②网页默认用户为hadoop /opt/hadoop/etc/hdfs-site.xml:①只使用一个副本 /opt/hadoop/etc/hadoop/yarn-site.xml /opt/hadoop/etc/hadoop/mapred-site.xml /opt/hadoop/etc/hadoop/workers sed -i \u0026#34;20 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;fs.defaultFS\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;hdfs://localhost:9000\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; ${HADOOP_HOME}/etc/hadoop/core-site.xml\rsed -i \u0026#34;20 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;hadoop.http.staticuser.user\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;hadoop\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; ${HADOOP_HOME}/etc/hadoop/core-site.xml\rsed -i \u0026#34;20 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;hadoop.tmp.dir\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;${HADOOP_HOME}/data/\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; ${HADOOP_HOME}/etc/hadoop/core-site.xml\rsed -i \u0026#34;20 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;dfs.replication\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;1\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; ${HADOOP_HOME}/etc/hadoop/hdfs-site.xml\rsed -i \u0026#34;16 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;yarn.resourcemanager.hostname\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;0.0.0.0\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; ${HADOOP_HOME}/etc/hadoop/yarn-site.xml\rsed -i \u0026#34;16 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;yarn.nodemanager.aux-services\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;mapreduce_shuffle\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; ${HADOOP_HOME}/etc/hadoop/yarn-site.xml\rsed -i \u0026#34;16 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;yarn.application.classpath\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;`hadoop classpath`\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; ${HADOOP_HOME}/etc/hadoop/yarn-site.xml\rsed -i \u0026#34;20 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;mapreduce.framework.name\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;yarn\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; ${HADOOP_HOME}/etc/hadoop/mapred-site.xml 启动命令\r#\r必须先格式化节点 hdfs namenode -format \u0026amp;\u0026amp; start-dfs.sh echo \u0026#34;formathadoop=hdfs namenode -format\u0026#34; \u0026gt;\u0026gt; ~/.bashrc\recho \u0026#34;alias starthadoop=\\${HADOOP_HOME}/sbin/start-all.sh\u0026#34; \u0026gt;\u0026gt; ~/.bashrc\recho \u0026#34;alias stophadoop=\\${HADOOP_HOME}/sbin/stop-all.sh\u0026#34; \u0026gt;\u0026gt; ~/.bashrc "},{"id":4,"href":"/docs/%E7%AC%94%E8%AE%B0%E6%9C%AC/win11-ltsc/%E7%B3%BB%E7%BB%9F%E4%BC%98%E5%8C%96/","title":"系统优化","section":"windows 11","content":"\r系统优化\r#\r扩展屏幕/多屏显示\r#\r任务栏设置-\u0026gt;任务栏行为-\u0026gt;在所有显示器上显示任务栏(√)-\u0026gt;当使用多个显示器时,在以下位置显示我的状态栏应用(打开了窗口的任务栏)\n"},{"id":5,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E7%AF%87/hadoop3.4.1-clustersetup/","title":"Hadoop 3.4.1 集群版","section":"分布式篇","content":"\rHadoop 3.4.1 集群版之HDFS\r#\rhttps://www.runoob.com/w3cnote/hadoop-tutorial.html\nroot操作(建议docker打包)\r#\rsed -i \u0026#34;s|bookworm-updates|bookworm-updates bullseye|g\u0026#34; /etc/apt/sources.list.d/debian.sources\rapt update \u0026amp;\u0026amp; apt install -y openjdk-11-jdk\rsudo apt install openjdk-11-jdk-headless -y\rsed -i \u0026#39;$aPATH=\\$PATH:/usr/games:/opt/hadoop/bin:/opt/hadoop/sbin\u0026#39; /etc/profile\rsed -i \u0026#39;$aexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/\u0026#39; /etc/profile\rsed -i \u0026#39;$aexport HADOOP_HOME=/opt/hadoop/\u0026#39; /etc/profile\rsource /etc/profile\rsudo useradd -ms/bin/bash -k/etc/skel/ hadoop\rsudo usermod -aG sudo hadoop\recho hadoop:. | chpasswd\rcd /opt\rwget https://dlcdn.apache.org/hadoop/common/hadoop/hadoop.tar.gz\rtar -zxvf hadoop.tar.gz\rsed -i \u0026#34;1 i JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\u0026#34; /opt/hadoop/etc/hadoop/hadoop-env.sh\rmv /opt/hadoop.tar.gz /opt/hadoop\rfind /opt/hadoop/ -name *cmd -delete\rmkdir /opt/hadoop/data\rchown hadoop /opt -R 免登录\r#\r每台机器都要执行,此密钥仅作为示例ssh-keygen -t rsa -b 1024 mkdir ~/.ssh\recho \u0026#34;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAgQDR5HpVwM8VvMcfS+gJBkW/IS6n7Pgcd1Rkq6AbxP7aShCFJewuPhQM6FslaARkWoAgH4wC3qtMxLkZ5fNgAPFewYEYuJXARGOIuBoAtwJYc7KYoDeYwkhFcnsWWAWezYOtqG3IapRfIgOcx3+j7HditZAn5nCsZit4WZAD+VdW3w== \u0026#34; \u0026gt;\u0026gt; ~/.ssh/authorized_keys\rchmod 700 ~/.ssh\rchmod 644 ~/.ssh/authorized_keys\rcat \u0026gt; ~/.ssh/id_rsa \u0026lt;\u0026lt;EOF\r-----BEGIN OPENSSH PRIVATE KEY-----\rb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAlwAAAAdzc2gtcn\rNhAAAAAwEAAQAAAIEA0eR6VcDPFbzHH0voCQZFvyEup+z4HHdUZKugG8T+2koQhSXsLj4U\rDOhbJWgEZFqAIB+MAt6rTMS5GeXzYADxXsGBGLiVwERjiLgaALcCWHOymKA3mMJIRXJ7Fl\rgFns2DrahtyGqUXyIDnMd/o+x3YrWQJ+ZwrGYreFmQA/lXVt8AAAIIeMsZxnjLGcYAAAAH\rc3NoLXJzYQAAAIEA0eR6VcDPFbzHH0voCQZFvyEup+z4HHdUZKugG8T+2koQhSXsLj4UDO\rhbJWgEZFqAIB+MAt6rTMS5GeXzYADxXsGBGLiVwERjiLgaALcCWHOymKA3mMJIRXJ7FlgF\rns2DrahtyGqUXyIDnMd/o+x3YrWQJ+ZwrGYreFmQA/lXVt8AAAADAQABAAAAgEsyyIGgqp\rDnKZAU6fURwjtP8B9JzzqjpiDLPHm2gnhCwNhzVcLbiuN0+/LS6X/qzKy1oLwGeujuMkMN\rF7z1mYPqqcZmpVj97BF7ITQuzVJdEs6ujva/arp3V/FQYECLGHJ+pz+IBkJhVaXpKeLJOD\raeESEOy3jCp66fH6mFiFvBAAAAQGNHUW02lSyOGdoIPvxVk+boTXuZNYENCKOtBHTxX1Fd\rvQBFMuWWvk0dEHZ1sSbGds+CHrrMGEJN6aIxKXSuKdoAAABBAPyYTB4PV6WpKiJPAy/F6m\rMViOnfjfiX9/KqFYENd5EElm8FjjJ0lmC6YwJsSOPaB18BSmi2LpG9+QB7ujMHcgUAAABB\rANS40Jx9hA9HJ3gFQ06GS5Xr3sPjoOqkmCPFC+nhNBvdOxUwxfVsKly3qI5jjs9zZ3sben\r5ge2hwzEq0xZMtxpMAAAAMcm9vdEB0ZXN0Lm1tAQIDBAUGBw==\r-----END OPENSSH PRIVATE KEY-----\rEOF\rchmod 600 ~/.ssh/id_rsa 修改配置\r#\r/opt/hadoop/etc/hadoop/core-site.xml /opt/hadoop/etc/hadoop/hdfs-site.xml /opt/hadoop/etc/hadoop/yarn-site.xml /opt/hadoop/etc/hadoop/mapred-site.xml /opt/hadoop/etc/hadoop/workers sed -i \u0026#34;20 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;fs.defaultFS\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;hdfs://200.mm:9000\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; /opt/hadoop/etc/hadoop/core-site.xml\rsed -i \u0026#34;20 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;hadoop.http.staticuser.user\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;hadoop\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; /opt/hadoop/etc/hadoop/core-site.xml\rsed -i \u0026#34;20 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;hadoop.tmp.dir\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;/opt/data/\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; /opt/hadoop/etc/hadoop/core-site.xml\rsed -i \u0026#34;20 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;dfs.replication\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;2\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; /opt/hadoop/etc/hadoop/hdfs-site.xml\rsed -i \u0026#34;20 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;dfs.datanode.data.dir\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;/opt/data/\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; /opt/hadoop/etc/hadoop/hdfs-site.xml\rsed -i \u0026#34;16 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;yarn.resourcemanager.hostname\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;200.mm\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; /opt/hadoop/etc/hadoop/yarn-site.xml\rsed -i \u0026#34;16 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;yarn.nodemanager.aux-services\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;mapreduce_shuffle\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; /opt/hadoop/etc/hadoop/yarn-site.xml\rsed -i \u0026#34;16 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;yarn.application.classpath\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;`hadoop classpath`\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; /opt/hadoop/etc/hadoop/yarn-site.xml\rsed -i \u0026#34;20 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;mapreduce.framework.name\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;yarn\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; /opt/hadoop/etc/hadoop/mapred-site.xml\recho -e \u0026#39;200.mm\\n201.mm\\n202.mm\u0026#39; \u0026gt; /opt/hadoop/etc/hadoop/workers 主机启动\r#\r先格式化 hdfs namenode -format\rstart-dfs.sh 添加节点\r#\r新节点重复以上操作 master登录一次新节点,确保免登录生效 masterd的workers记录要更新 在新的机器执行 hdfs --daemon start datanode\recho -e \u0026#39;200.mm\\n201.mm\\n202.mm\\n203.mm\u0026#39; \u0026gt; /opt/hadoop/etc/hadoop/workers docker基础配置\rversion: \u0026#34;3.8\u0026#34;\r#https://docs.docker.com/compose/compose-file/compose-file-v3/\rnetworks:\rmacvlan:\rdriver: macvlan\rdriver_opts:\r#parent: enp8s0\rparent: enp6s0\ripam:\rconfig:\r- subnet: 10.0.0.200/24\rip_range: 10.0.0.200/28\rgateway: 10.0.0.1\rservices:\rmaster:\rcontainer_name: master\rhostname: 200.mm\rimage: debian12.x\rtty: true\rmac_address: 02-00-00-00-00-00\rnetworks:\rmacvlan:\ripv4_address: 10.0.0.200\rsalver1:\rcontainer_name: salver1\rhostname: 201.mm\rimage: debian12.x\rtty: true\rmac_address: 02-01-00-00-00-00\rnetworks:\rmacvlan:\ripv4_address: 10.0.0.201\rsalver2:\rcontainer_name: salver2\rhostname: 202.mm\rimage: debian12.x\rtty: true\rmac_address: 02-02-00-00-00-00\rnetworks:\rmacvlan:\ripv4_address: 10.0.0.202\rsalver3:\rcontainer_name: salver3\rhostname: 203.mm\rimage: debian12.x\rtty: true\rmac_address: 02-03-00-00-00-00\rnetworks:\rmacvlan:\ripv4_address: 10.0.0.203 "},{"id":6,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E7%AF%87/hadoop3.4.1-%E8%BF%90%E7%BB%B4%E7%AF%87/","title":"Hadoop 3.4.1 运维篇","section":"分布式篇","content":"\rhadoop 3.4.1 运维篇\r#\r块损坏与丢失\r#\r损坏或丢失会进入安全模式 hdfs dfsadmin -safemode get\t#查看安全模式状态\rhdfs dfsadmin -safemode enter\t#进入安全模式状态\rhdfs dfsadmin -safemode leave\t#离开安全模式状态\rhdfs dfsadmin -safemode wait\t#等待安全模式状态 hadoop fsck\t#检查时候存在丢失或者损坏\rhdfs fsck / -delete\t#删除问题文件,在获得问题的解决办法前不建议使用 测试数据\r#\r写入100个128M的数据 for x in {1..100};do dd if=/dev/random of=$RANDOM bs=1M count=128;done\rhadoop fs -put * /4m 查找文件\r#\rfind /opt/ -mmin -30\rfind /opt/ -exec touch -ht 197001010000.00 {} \\;\rrm /opt/data/* /opt/hadoop-3.4.1/logs/* -rf\rfind /opt/ -name *meta 空间管理\r#\r只分配1G能启动,但存储不了文件 The volume with the most available space (=950 190 080 B) is less than the block size (=134 217 728 B) sudo mkdir /home/hadoop/space/ -p\rsudo dd if=/dev/zero of=/home/hadoop/space/hadoop0 bs=1G count=2\rsudo dd if=/dev/zero of=/home/hadoop/space/hadoop1 bs=1G count=2\rsudo dd if=/dev/zero of=/home/hadoop/space/hadoop2 bs=1G count=2\rsudo dd if=/dev/zero of=/home/hadoop/space/hadoop3 bs=1G count=2\rsudo losetup /dev/loop0 /home/hadoop/space/hadoop0 sudo losetup /dev/loop1 /home/hadoop/space/hadoop1\rsudo losetup /dev/loop2 /home/hadoop/space/hadoop2 sudo losetup /dev/loop3 /home/hadoop/space/hadoop3\rsudo mkfs.ext4 /dev/loop0\rsudo mkfs.ext4 /dev/loop1\rsudo mkfs.ext4 /dev/loop2\rsudo mkfs.ext4 /dev/loop3\rsudo mount -t ext4 /dev/loop0 /home/hadoop/hadoop0\rsudo mount -t ext4 /dev/loop1 /home/hadoop/hadoop1\rsudo mount -t ext4 /dev/loop2 /home/hadoop/hadoop2\rsudo mount -t ext4 /dev/loop3 /home/hadoop/hadoop3\rsudo chmod 777 /home/hadoop/hadoop* -R 删除虚拟驱动 sudo losetup -d /dev/loop0 /dev/loop1 /dev/loop2 /dev/loop3 "},{"id":7,"href":"/docs/%E7%AC%94%E8%AE%B0%E6%9C%AC/win11-ltsc/wsl1/","title":"WSL1","section":"windows 11","content":"\rWSL1\r#\rhttps://learn.microsoft.com/zh-cn/windows/wsl/install-manual#downloading-distributions Ubuntu 24.04 Debian wsl.exe --update\rhttps://github.com/microsoft/WSL/releases/download/2.3.26/wsl.2.3.26.0.x64.msi\rAdd-AppxPackage .\\app_name.appx 配置\r#\recho \u0026#34;deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main\u0026#34; | sudo tee /etc/apt/sources.list\rsudo apt update\rsudo apt install bash-completion /etc/wsl.conf [boot]\rsystemd=true\r[network]\rhostname = redmibook.com\rgenerateHosts = false 常用命令\r#\rwsl --shutdown 未解决\r#\rnetworkingMode Nat\n"},{"id":8,"href":"/posts/2024-11-11/","title":"影视资源","section":"日记本","content":"\r种子下载\r#\r获取元文件 https://webtor.io/ 元数据编辑64位 https://torrent-file-editor.github.io/ 旧BE，需要到谷歌网盘下载 https://sites.google.com/site/ultimasites/files 四人拼接结果 ed2k://|file|4ren.mp4|4483035686|AA06C4FFF569C937A81E51F8023F8FFA|/ 能下载\nBT编辑器\r#\rapt install aria2\rhttps://github.com/torrent-file-editor/torrent-file-editor/releases/download/v1.0.0/torrent-file-editor-1.0.0-x64.exe 浆果儿\r#\rmagnet:?xt=urn:btih:9d6f242a44d2cf99ec89b6ed8b43663f11748495\u0026amp;dn=%E6%B5%86%E6%9E%9C%E5%84%BF 岳欣月\r#\rmagnet:?xt=urn:btih:e9aa39b943b7f90e6be196f580faa6397ad07a1d\u0026amp;dn=%E3%80%90%E9%9C%87%E6%83%8A%E2%9D%A4%EF%B8%8F%E7%BD%91%E6%9B%9D%E7%83%AD%E9%97%A8%E4%BA%8B%E4%BB%B6%E3%80%91%E8%B6%85%E7%81%AB%E7%88%86%E5%90%89%E6%9E%97%E5%A5%B3%E5%AD%A9%E5%B2%B3%E6%AC%A3%E6%9C%88%E5%A4%9A%E4%BA%BA%E8%BF%90%E5%8A%A8%E4%B8%8D%E9%9B%85%E7%A7%81%E6%8B%8D%E6%B5%81%E5%87%BA%20%E7%96%AF%E7%8B%8210P%E4%B9%B1%E6%93%8D%20%E5%9B%BD%E4%BA%A7%E5%A4%A7%E4%B9%B1%E4%BA%A4%20%E5%A0%AA%E6%AF%94AV%20%E9%AB%98%E6%B8%85720P%E5%AE%8C%E6%95%B4%E7%89%88\u0026amp;tr=http%3A%2F%2Fsukebei.tracker.wf%3A8888%2Fannounce\u0026amp;tr=udp%3A%2F%2Fopen.stealth.si%3A80%2Fannounce\u0026amp;tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337%2Fannounce\u0026amp;tr=udp%3A%2F%2Fexodus.desync.com%3A6969%2Fannounce\u0026amp;tr=udp%3A%2F%2Ftracker.torrent.eu.org%3A451%2Fannounce 紫色面具\r#\r其实只有14个不重复文件 magnet:?xt=urn:btih:9299f4be2d5b26f8fe7ab0b17a8c6a7d63af0f84\u0026amp;dn=%E7%B4%AB%E8%89%B2%E9%9D%A2%E5%85%B7\r4b0931f2a5a1bcd10b9a06afeea96f5c 3.mp4\re57de350277cc8086f300244689749be 5.mp4\r0f74b1f26b6421e4a1786088ae142267 9.mp4\re16f7b311aa849c7b5432d66da76f958 紫色面具 (10).mp4\r51eab4935abaa1c9b55ab3bf82a73110 紫色面具 (11).mp4\rdf88b75692efd9d308f03c020f0f15ba 紫色面具 (1).mp4\rd5e49d4c7354463487986cafaeada2dd 紫色面具 (2).mp4\rb195c894cc439b130f9585c0e87b872e 紫色面具 (3).mp4\r8168b209befaeafde0bf9164da67323d 紫色面具 (4).mp4\r76444c6eeef02580b3c7a313a18b8650 紫色面具 (5).mp4\r794c96907cf245d27b8d9a2075b73351 紫色面具 (6).mp4\r3b974835a30635e90de3ec3b589a9456 紫色面具 (7).mp4\r5950f2f2b6be317e42a1b00fe34fb19f 紫色面具 (8).mp4\rbc05491e17a35a7b739363459b8ad8b6 紫色面具 (9).mp4 "},{"id":9,"href":"/posts/2024-11-03/","title":"Faker第五冠,为了所有支持者!","section":"日记本","content":"\r恭喜Faker第五冠！\r#\r2024全球总局赛视频\r#\r第一局\r#\r第二局\r#\r第三局\r#\r第四局\r#\r第五局\r#\r"},{"id":10,"href":"/posts/2024-07-08/","title":"沙特石油杯EWC,成就双底座赛区的荣光!","section":"日记本","content":" 总决赛(第二底座)\r#\r第一局\r#\r第二局\r#\r第三局\r#\r第四局\r#\r1/4决赛(第一底座)\r#\r第一局\r#\r第二局\r#\r第三局\r#\r"},{"id":11,"href":"/posts/2023-11-19/","title":"Faker第四冠,为了队友!","section":"日记本","content":"\r2023全球总决赛\r#\r第一局\r#\r第二局\r#\r第三局\r#\r"},{"id":12,"href":"/posts/2023-09-29/","title":"四金一铜,英雄联盟!","section":"日记本","content":"\r2022杭州亚运冠军集体照！\r#\r亚运总决赛视频\r#\r第一局:韩国1-0中华台湾\r#\r第二局:韩国2-0中华台湾,我们是冠军!\r#\r亚运半决赛\r#\r第一局 韩国1-0中国\r#\r第二局 韩国2-0中国\r#\r季军争夺战！\r#\r第一局:越南1-0中国\r#\r第二局: 越南1-1中国\r#\r第三局:越南1-2中国,我们是季军！\r#\r"},{"id":13,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/","title":"安装系统","section":"服务器","content":"\r服务器安装\r#\r清华镜像下载 软碟通 王涛 7C81-1689-4046-626F 只要下载4G左右的,1G以下是网络安装版,7G以上是教育版(内置的软件不同) 命令查找 初始化安装\r#\recho \u0026#34;deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm main contrib non-free non-free-firmware\u0026#34; | sudo tee /etc/apt/sources.list\rwget ali.mm/debian/config.tgz\rsudo tar -zxvf config.tgz -C /\rrm config.tgz 容器优化\r#\rcat \u0026gt; proxy.conf \u0026lt;\u0026lt; EOF\r[Service]\rEnvironment=\u0026#34;HTTP_PROXY=http://x:x@127.1:10086\u0026#34;\rEnvironment=\u0026#34;HTTPS_PROXY=http://x:x@127.1:10086\u0026#34;\rEnvironment=\u0026#34;NO_PROXY=localhost,127.0.0.1,.cn\u0026#34;\rEOF\rsudo mkdir /etc/systemd/system/docker.service.d\rsudo mv proxy.conf /etc/systemd/system/docker.service.d\rsudo apt install -y docker.io 网络优化\r#\r"},{"id":14,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E7%A1%AC%E7%9B%98%E4%BD%BF%E7%94%A8/","title":"硬盘使用","section":"服务器","content":"\r硬盘使用\r#\r移动硬盘 格式化+挂载\r#\rsudo apt install -y exfatprogs\rsudo mkfs.exfat /dev/sda\rsudo mount /dev/sda /home/nginx/samsung/ "},{"id":15,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E8%B0%83%E8%AF%95%E7%A8%8B%E5%BA%8F/","title":"调试程序","section":"服务器","content":"\r程序调试\r#\r安装调试工具+开启远程\r#\r需重启sshd apt install -y apt-file | apt-file update\recho \u0026#34;X11UseLocalhost no\u0026#34; \u0026gt;\u0026gt; /etc/ssh/sshd_config Apt使用\r#\r#apt-file -h\rlist|show \u0026lt;pattern\u0026gt; List files in packages\rsearch|find \u0026lt;pattern\u0026gt; Search files in packages\rupdate Fetch Contents files from apt-sources. #apt install --print-uris tree #显示下载链接\r\u0026#39;http://mirrors.tuna.tsinghua.edu.cn/debian/pool/main/t/tree/tree_2.1.0-1_amd64.deb\u0026#39; tree_2.1.0-1_amd64.deb 52464 MD5Sum:a12f30705b94d891f14bd5199fe6f4f2 "},{"id":16,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3/","title":"官方文档","section":"服务器","content":"\r官方文档\r#\rnginx配置\r#\rcat \u0026gt; /etc/nginx/sites-enabled/84.conf \u0026lt;\u0026lt;EOF\rserver {\rlisten 84;\rcharset \u0026#39;utf-8\u0026#39;;\rlocation /json/{autoindex on;alias /var/www/docs;}\r}\rEOF 下载部署\r#\rcd /tmp\rwget https://github.com/twbs/bootstrap/releases/download/v5.3.3/bootstrap-5.3.3-examples.zip\runzip bootstrap-5.3.3-examples.zip\rmv bootstrap-5.3.3-examples /var/www/docs/bootstrap5.3.3\rrm bootstrap-5.3.3-examples.zip cd /tmp\rwget https://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/hadoop-3.4.1/hadoop-3.4.1.tar.gz\rtar -zxvf hadoop-3.4.1.tar.gz\rmv hadoop-3.4.1/share/doc/hadoop /var/www/docs/hadoop3.4.1\rrm hadoop-3.4.1* -rf "},{"id":17,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E9%95%9C%E5%83%8F%E7%BD%91%E7%AB%99/","title":"镜像网站","section":"服务器","content":"\r镜像网站\r#\r镜像 清华 南科 阿里 华为 Debian 新× Apache Maven github镜像: https://gh.llkk.cc/ https://github.akams.cn/ "},{"id":18,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E7%AF%87/hadoop3.4.1-%E8%AE%A1%E7%AE%97%E7%AF%87/","title":"Hadoop3.4.1 计算篇","section":"分布式篇","content":"\rhadoop计算篇\r#\r源码(内有WordCount)\n3.4.1文档 备用\n启动示例\r#\rhadoop jar $HADOOP_HOME/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.4.1.jar wordcount /1.csv `date +%m%d-%H%M` 源码编译\r#\rWordCount.java hadoop com.sun.tools.javac.Main WordCount.java\rjar cf wc.jar WordCount*.class\rhadoop jar wc.jar WordCount /1.csv `date +%m%d-%H%M` #\rhttps://files.pilookup.com/pi/1-100000000.zip\rhadoop com.sun.tools.javac.Main WordCount.java\rjar cf wc.jar WordCount*.class\rhadoop jar wc.jar WordCount /1-100000000.txt `date +%m%d-%H%M` sed -i \u0026ldquo;16 i yarn.nodemanager.resource.memory-mb1024\u0026rdquo; /opt/hadoop-3.4.1/etc/hadoop/yarn-site.xml\nsed -i \u0026ldquo;16 i yarn.nodemanager.resource.cpu-vcores1\u0026rdquo; /opt/hadoop-3.4.1/etc/hadoop/yarn-site.xml\n"},{"id":19,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E7%AF%87/hive4.0.1/","title":"Hive4.0.1","section":"分布式篇","content":"\rhive4.0.1安装部署\r#\r目前hive4.0.1+hadoop3.4.1+jdk11.0.24,正常使用 多注意日志中关于用户权限的问题 官方镜像中 hive4.0.1 匹配 hadoop3.3.6 https://hive.apache.org/docs/latest/manual-installation_283118363/ 下载安装\r#\rhadoop的鉴权+文件权限要注意 sed -i \u0026#34;20 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;hadoop.proxyuser.hadoop.hosts\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;*\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; ${HADOOP_HOME}/etc/hadoop/core-site.xml\rsed -i \u0026#34;20 i \u0026lt;property\u0026gt;\u0026lt;name\u0026gt;hadoop.proxyuser.hadoop.groups\u0026lt;/name\u0026gt;\u0026lt;value\u0026gt;*\u0026lt;/value\u0026gt;\u0026lt;/property\u0026gt;\u0026#34; ${HADOOP_HOME}/etc/hadoop/core-site.xml wget https://mirrors.aliyun.com/apache/hive/hive-4.0.1/apache-hive-4.0.1-bin.tar.gz\rtar -zxvf apache-hive-4.0.1-bin.tar.gz\rmv apache-hive-4.0.1-bin hive\rmv hive /opt/\rsudo sed -i \u0026#39;$aexport HIVE_HOME=/opt/hive\u0026#39; /etc/profile\rsudo sed -i \u0026#39;$aPATH=\\$PATH:\\$HIVE_HOME/bin/\u0026#39; /etc/profile\rsudo sed -i \u0026#39;$aalias beelinehive=\u0026#34;beeline -u jdbc:hive2://127.0.0.1:10000/\u0026#34;\u0026#39; /etc/profile\rsource /etc/profile\rhadoop fs -mkdir /tmp\rhadoop fs -mkdir -p /user/hive/\rhadoop fs -chmod +rwx /tmp\rhadoop fs -chmod +w /user/hive/ 使用MySQL\r#\rhost:ali.mm username:zian passwd:zian wget -P $HIVE_HOME/lib https://repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.49/mysql-connector-java-5.1.49.jar cp $HIVE_HOME/conf/hive-default.xml.template $HIVE_HOME/conf/hive-site.xml\rsed -i \u0026#34;s|jdbc:derby:;databaseName=metastore_db;create=true|jdbc:mysql://ali.mm:3306/zian|g\u0026#34; $HIVE_HOME/conf/hive-site.xml\rsed -i \u0026#34;s|org.apache.derby.jdbc.EmbeddedDriver|com.mysql.jdbc.Driver|g\u0026#34; $HIVE_HOME/conf/hive-site.xml\rsed -i \u0026#34;s|APP|zian|g\u0026#34; $HIVE_HOME/conf/hive-site.xml\rsed -i \u0026#34;s|mine\u0026lt;|zian\u0026lt;|g\u0026#34; $HIVE_HOME/conf/hive-site.xml\rsed -i \u0026#34;s|system:||g\u0026#34; $HIVE_HOME/conf/hive-site.xml\rschematool -dbType mysql -initSchema\rnohup hiveserver2 \u0026amp; 使用Derby\r#\r要注意文件目录的位置,schematool在当前目录下生成文件 schematool -dbType derby -initSchema\rnohup hiveserver2 \u0026amp; 1亿数据生成代码\r导入csv文件 CREATE TABLE IF NOT EXISTS md5 (id STRING,md5 STRING) row format delimited fields terminated by \u0026#39;,\u0026#39; stored as textfile;\rload data inpath \u0026#39;/md5.txt\u0026#39; into table md5; 生成代码 import org.apache.commons.codec.digest.DigestUtils;\rimport java.io.BufferedWriter;\rimport java.io.FileWriter;\rpublic class MD5 {\rpublic static void main(String[] args) throws Exception {\rfinal int number = 10000*10000;\rfinal int round = 1000;\rStringBuffer string = new StringBuffer();\r//FileWriter需要添加true参数才会有添加效果\rBufferedWriter writer = new BufferedWriter(new FileWriter(\u0026#34;z:/md5.txt\u0026#34;, true));\rfor (int y = 0; y \u0026lt;= Math.abs(number / round); y++) {\rfor (int x = 0; x \u0026lt; round + 1 \u0026amp;\u0026amp; x + y * round \u0026lt; number; x++) {\rString data = \u0026#34;00000000\u0026#34;;\rdata += String.valueOf(x + y * round);\rdata = data.substring(data.length() - 8);\rdata = data + \u0026#34;,\u0026#34; + DigestUtils.md5Hex(data) + \u0026#34;\\n\u0026#34;;\rstring.append(data);\r}\rwriter.append(string);\rstring = new StringBuffer();\r}\rwriter.flush();\r}\r} HQL\r#\r默认日志位置 /tmp/启动的用户名/hive.log 需要注意在日志中出现的文件权限问题 CREATE TABLE IF NOT EXISTS testtable (id INT,name STRING); insert into testtable VALUES (1,\u0026#34;li\u0026#34;),(2,\u0026#34;xiang\u0026#34;),(3,\u0026#34;he\u0026#34;);\rselect * from testtable; 保存结果到本地磁盘local insert overwrite local directory \u0026#34;/tmp/out/1\u0026#34;\rrow format delimited fields terminated by \u0026#34;|\u0026#34;\rselect * from testtable; 保存结果到hdfs(无local) insert overwrite directory \u0026#34;/tmp/out/2\u0026#34;\rrow format delimited fields terminated by \u0026#34;|\u0026#34;\rselect * from testtable; tez 引擎(官方推荐的引擎,MR可以用但过时)\r#\rhttps://blog.csdn.net/cc__cc___/article/details/134690366 https://mirrors.aliyun.com/apache/tez/0.10.4/apache-tez-0.10.4-bin.tar.gz wget https://mirrors.aliyun.com/apache/tez/0.10.4/apache-tez-0.10.4-bin.tar.gz\rtar -zxvf apache-tez-0.10.4-bin.tar.gz -C /opt/ --transform=\u0026#34;s|apache-tez-0.10.4-bin|tez|g\u0026#34;\rsudo sed -i \u0026#39;$aexport TEZ_HOME=/opt/tez\u0026#39; /etc/profile\rsource /etc/profile cat \u0026gt; $TEZ_HOME/conf/tez-site.xml \u0026lt;\u0026lt; EOF\r\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt;\r\u0026lt;configuration\u0026gt;\r\u0026lt;!-- 指定在hdfs上的tez包文件 --\u0026gt;\r\u0026lt;property\u0026gt;\r\u0026lt;name\u0026gt;tez.lib.uris\u0026lt;/name\u0026gt;\r\u0026lt;value\u0026gt;hdfs://master:9000/user/tez/tez.tar.gz\u0026lt;/value\u0026gt;\r\u0026lt;/property\u0026gt;\r\u0026lt;/configuration\u0026gt;\rEOF hive.execution.enginetez mapreduce.framework.name修改为yarn-tez\nmr修改为tez\n/opt/hive/conf/hive-site.xml sed -i \u0026ldquo;s|mr|tez|g\u0026rdquo; $HIVE_HOME/conf/hive-site.xml $TEZ_HOME/share/tez.tar.gz hadoop fs -mkdir /user/tez/ -p hadoop fs -put $TEZ_HOME/share/tez.tar.gz /user/tez\nsudo sed -i \u0026lsquo;$aexport HADOOP_CLASSPATH=hadoop classpath\u0026rsquo; /etc/profile sudo sed -i \u0026lsquo;$aexport TEZ_CONF_DIR=$HADOOP_CONF_DIR\u0026rsquo; /etc/profile sudo sed -i \u0026lsquo;$aexport TEZ_JARS=$TEZ_HOME/.jar:$TEZ_HOME/lib/.jar\u0026rsquo; /etc/profile sudo sed -i \u0026lsquo;$aexport HADOOP_CLASSPATH=$TEZ_CONF_DIR:$TEZ_JARS:$HADOOP_CLASSPATH\u0026rsquo; /etc/profile\nhttps://blog.csdn.net/cc__cc___/article/details/134690366\ntez+hadoop https://blog.csdn.net/qq_38628046/article/details/124775470\n临时使用可在beeline执行 set hive.execution.engine=tez; set hive.execution.engine=mr;\n"},{"id":20,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%AE%B9%E5%99%A8%E7%9B%B8%E5%85%B3/%E4%BB%A3%E7%90%86%E4%BD%BF%E7%94%A8/","title":"代理使用","section":"容器相关","content":"\r代理使用\r#\rDocker配置代理\r#\r/etc/systemd/system/docker.service.d [Service]\rEnvironment=\u0026#34;HTTP_PROXY=http://x:x@172.22.43.127:10086\u0026#34;\rEnvironment=\u0026#34;HTTPS_PROXY=http://x:x@172.22.43.127:10086\u0026#34;\rEnvironment=\u0026#34;NO_PROXY=localhost,127.0.0.1,.cn\u0026#34; 重启服务\r#\rsudo systemctl daemon-reload\rsudo systemctl restart docker "},{"id":21,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%AE%B9%E5%99%A8%E7%9B%B8%E5%85%B3/%E5%AE%B9%E5%99%A8%E8%B5%84%E6%96%99/","title":"容器资料","section":"容器相关","content":"\rDocker相关\r#\rFROM scratch\r#debian12.x --force-rm\rADD rootfs.tar.xz /\rENV TZ=\u0026#39;CST-8\u0026#39; LANG=\u0026#39;zh_CN.UTF-8\u0026#39;\r# 笔记本盒盖问题+apt清华源\r# 安装openssh-server时要确认,使用echo管道\r# 解决sshd时中文显示错误问题(apt安装语言包locales),bash下可以不用\r# 中文汉化,通过find /etc -mtime -1找到dpkg-reconfigure locales的不同,确定是/etc/default/locale文件\r# 添加docker用户不设密码\rRUN echo \u0026#34;HandleLidSwitch=lock\u0026#34; \u0026gt;\u0026gt; /etc/systemd/logind.conf \u0026amp;\u0026amp;\\\rsed -i \u0026#34;s|deb.debian.org|mirrors.tuna.tsinghua.edu.cn|g\u0026#34; /etc/apt/sources.list.d/debian.sources \u0026amp;\u0026amp;\\\rapt update \u0026amp;\u0026amp;\\\recho \u0026#39;y\u0026#39; | apt install -y bash-completion curl iproute2 iputils-ping locales net-tools openssh-server sudo vim-tiny wget \u0026amp;\u0026amp;\\\rmkdir /run/sshd \u0026amp;\u0026amp;\\\rapt clean \u0026amp;\u0026amp;\\\recho \u0026#34;zh_CN.UTF-8 UTF-8\u0026#34; \u0026gt; /etc/locale.gen \u0026amp;\u0026amp;\\\recho \u0026#34;LANG=zh_CN.UTF-8\u0026#34; \u0026gt; /etc/default/locale \u0026amp;\u0026amp;\\\rlocale-gen \u0026amp;\u0026amp;\\\recho \u0026#34;source /etc/profile\u0026#34; \u0026gt;\u0026gt; /root/.bashrc \u0026amp;\u0026amp;\\\recho \u0026#34;clear\u0026#34; \u0026gt;\u0026gt; /root/.bashrc \u0026amp;\u0026amp;\\\ruseradd -ms/bin/bash -k/etc/skel/ docker \u0026amp;\u0026amp;\\\rusermod -aG sudo docker \u0026amp;\u0026amp;\\\recho docker:. | chpasswd\r# 里面有部分配置文件\rADD config.tgz /\r# 修改系统所有文件时间,(软链接/lib与/lib64需要添加-h如 touch -h /sbin -t 197001010800.00),方便以后查找\rRUN find /* -path /sys -prune -o -path /proc -prune -o -exec touch -ht 197001010000.00 {} \\;\r# 这里不能像centos7直接加参数\rCMD /usr/sbin/sshd -D "},{"id":22,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%AE%B9%E5%99%A8%E7%9B%B8%E5%85%B3/%E7%A3%81%E7%9B%98%E6%93%8D%E4%BD%9C/","title":"磁盘操作","section":"容器相关","content":"\rDocker磁盘操作\r#\r磁盘占用\r#\r# docker system df\rTYPE TOTAL ACTIVE SIZE RECLAIMABLE\rImages 13 6 10.01GB 4.703GB (46%)\rContainers 7 2 28.41GB 11.01GB (38%)\rLocal Volumes 3 1 398.5kB 291.2kB (73%)\rBuild Cache 15 0 0B 0B docker system df -v\rImages space usage:\rREPOSITORY TAG IMAGE ID CREATED SIZE SHARED SIZE UNIQUE SIZE CONTAINERS\rmariadb10.11 latest 40a2eb6e350c 4 weeks ago 837.9MB 473.4MB 364.5MB 1\rmzz2017/v2raya latest d853d92ccbe4 2 months ago 135.1MB 0B 135.1MB 1\rdebian12.x latest 6f7450a8a8c4 3 months ago 473.4MB 473.4MB 0B 1\rvlmcsd latest 2dc260eb11e2 3 months ago 42.14MB 0B 42.14MB 1\rlinuxserver/transmission latest 06a747fbae86 3 months ago 76.57MB 0B 76.57MB 1\ralpine/ollama latest 0f688d4786f2 3 months ago 48.31MB 0B 48.31MB 1\rcnk3x/xunlei latest 0451df588f92 5 months ago 105.9MB 0B 105.9MB 1\rContainers space usage:\rCONTAINER ID IMAGE COMMAND LOCAL VOLUMES SIZE CREATED STATUS NAMES\r4c972c826ad6 debian12.x \u0026#34;/bin/sh -c \u0026#39;/usr/sb…\u0026#34; 0 1.16GB 7 days ago Up 4 days test\rd7fc44b2c8b2 alpine/ollama \u0026#34;/usr/bin/ollama ser…\u0026#34; 0 383B 7 days ago Up 27 hours ollama\r7602758a26e5 mariadb10.11 \u0026#34;/bin/sh -c \u0026#39;/mariad…\u0026#34; 0 8B 4 weeks ago Up 4 days mariadb\rb4be867b4dd5 mzz2017/v2raya \u0026#34;v2raya\u0026#34; 0 159B 7 weeks ago Up 4 days v2raya\r43d4dc7234a8 linuxserver/transmission \u0026#34;/init\u0026#34; 1 23kB 3 months ago Up 4 days transmission\r2c1a1ddc830e vlmcsd \u0026#34;/binaries/Linux/int…\u0026#34; 0 0B 3 months ago Up 4 days vlmcsd\r9be99a12bf4d cnk3x/xunlei \u0026#34;/bin/xlp\u0026#34; 0 161MB 5 months ago Up 4 days xunlei\rLocal Volumes space usage:\rVOLUME NAME LINKS SIZE\r6a7bdac3861185162370d16c7b0a2a7ca7f1b79202d0ad9e6fc765194a68a8b7 0 107.5kB\r9afce303b8c68add8d337413f9746097d7e2b71a99b9ee3b7aca31a60f0e07a6 0 173kB\rb753413220ef011d3148248d21ff36f60b6d936c1d1457b60b489adb00dccd3a 0 0B\rc1d6c0e6c453f5d7d192df68c9a478cbf3b24d7d1135215fa61f22b30bfa050f 0 309.5kB\r0d02fb39a972a26bb4c6a653abc77a48462bee2b3251cca53730b2932eb13d6b 1 658.6kB\r58b166ef59902945d90c90ac01458bb0a0d3e159a12a751fa31401e6cca5835d 0 646.5kB\r59d0c895f025d80d829cc4cb0c01c04a5ac5be4e310efd657023443df10e5595 0 175.4kB 磁盘回收\r#\r# docker builder prune\rWARNING! This will remove all dangling build cache. Are you sure you want to continue? [y/N] y\rTotal reclaimed space: 0B "},{"id":23,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8/ollama/","title":"Ollama","section":"软件使用","content":"\rollama部署\r#\rhttps://ollama.com/ 我的AI http://public.freefrp.org:11434 deepseek部署R1\r#\r本地部署纯属玩具 docker pull ollama/ollama\rollama run deepseek-r1:1.5b 通义千问2.5 coder\r#\r写代码专用 ollama run qwen2.5-coder:0.5b Docker\rdocker安装\r#\r精简版的只能使用CPU,但是只有70m的镜像 docker pull alpine/ollama\ralias ollama=\u0026#34;docker exec -it ollama sh\u0026#34; ollama:\rcontainer_name: ollama\rhostname: ollama.service\rimage: alpine/ollama\rtty: true\rports:\r- \u0026#34;11434:11434\u0026#34;\rvolumes:\r- /home/ollama/.ollama/:/root/.ollama/\renvironment:\r- OLLAMA_KEEP_ALIVE=-1\r# ollama run qwen2.5-coder:0.5b Linux\rLinux安装\r#\r官方脚本(会检测驱动) 实际下载地址(https://github.com/ollama/ollama/releases/latest/download/ollama-linux-amd64.tgz) curl -fsSL https://ollama.com/install.sh | sh 后台启动 nohup ollama serve \u0026amp; Windows11\r下载安装即可,默认服务自动打开 https://ollama.com/download/OllamaSetup.exe 远程使用\r#\r桌面端及移动端口: https://chatboxai.app/zh 浏览器插件: https://github.com/n4ze3m/page-assist/releases 服务器上使用shell获取json结果\r#\rchmod +x deepseek deepseek \u0026ldquo;请问要提出什么问题\u0026rdquo; #!/bin/bash\rnohup curl 127.1:11434/api/generate -d \u0026#39;{\u0026#34;model\u0026#34;:\u0026#34;deepseek-r1:1.5b\u0026#34;,\u0026#34;stream\u0026#34;:false,\u0026#34;prompt\u0026#34;:\u0026#34;\u0026#39;$1\u0026#39;\u0026#34;}\u0026#39; -o `date +%m%d-%H%M`${1}.txt \u0026amp; "},{"id":24,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8/sysbench/","title":"Sysbench","section":"软件使用","content":"\rsysbench性能测试\r#\r帮助文档\r#\rsysbench \u0026ndash;help Compiled-in tests:\rfileio - File I/O test\rcpu - CPU performance test\rmemory - Memory functions speed test\rthreads - Threads subsystem performance test\rmutex - Mutex performance test 测试开始\r#\rapt install -y sysbench\rsysbench cpu run\rsysbench 测试结果\r#\rroot@zian:/home/nginx# sysbench cpu run\rsysbench 1.0.20 (using system LuaJIT 2.1.0-beta3)\rRunning the test with following options:\rNumber of threads: 1\rInitializing random number generator from current time\rPrime numbers limit: 10000\rInitializing worker threads...\rThreads started!\rCPU speed:\revents per second: 996.02\rGeneral statistics:\rtotal time: 10.0094s\rtotal number of events: 9972\rLatency (ms):\rmin: 1.00\ravg: 1.00\rmax: 1.86\r95th percentile: 1.01\rsum: 9999.25\rThreads fairness:\revents (avg/stddev): 9972.0000/0.00\rexecution time (avg/stddev): 9.9992/0.00 "},{"id":25,"href":"/docs/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8/wget/","title":"Wget","section":"软件使用","content":"\rwget使用\r#\r下载所有能遍历的目录及文件(爬虫)\r#\rwget -r -np -nH -R index.html http://127.0.0.1/\n参数解析\r#\r# wget -h\rGNU Wget 1.21.3，非交互式的网络文件下载工具。\r用法： wget [选项]... [URL]...\r长选项所必须的参数在使用短选项时也是必须的。\r启动：\r-V, --version 显示 Wget 的版本信息并退出\r-h, --help 打印此帮助\r-b, --background 启动后转入后台\r-e, --execute=命令 运行一个“.wgetrc”风格的命令\r日志和输入文件：\r-o, --output-file=文件 将日志信息写入 FILE\r-a, --append-output=文件 将信息添加至 FILE\r-d, --debug 打印大量调试信息\r-q, --quiet 安静模式 (无信息输出)\r-v, --verbose 详尽的输出 (此为默认值)\r-nv, --no-verbose 关闭详尽输出，但不进入安静模式\r--report-speed=类型 以 \u0026lt;类型\u0026gt; 报告带宽。类型可以是 bits\r-i, --input-file=文件 下载本地或外部 \u0026lt;文件\u0026gt; 中的 URL\r-F, --force-html 把输入文件当成 HTML 文件\r-B, --base=URL 解析相对于 URL 的 HTML 输入文件链接 (-i -F)\r--config=文件 指定要使用的配置文件\r--no-cookies 不读取任何配置文件\r--rejected-log=文件 将拒绝 URL 的原因写入 \u0026lt;文件\u0026gt;。\r下载：\r-t, --tries=数字 设置重试次数为 \u0026lt;数字\u0026gt; (0 代表无限制)\r--retry-connrefused 即使拒绝连接也是重试\r--retry-on-http-error=ERRORS 提供以逗号分隔的列表，列出遇到时进行重试的 HTTP 错误\r-O, --output-document=文件 将文档写入 FILE\r-nc, --no-clobber 不要下载已存在将被覆盖的文件\r--no-netrc 不要尝试从 .netrc 获取凭据\r-c, --continue 断点续传下载文件\r--start-pos=偏移量 从由零计数的 \u0026lt;偏移量\u0026gt; 开始下载\r--progress=类型 选择进度条类型\r--show-progress 在任意啰嗦状态下都显示进度条\r-N, --timestamping 只获取比本地文件新的文件\r--no-if-modified-since 不要在时间戳 (timestamping) 模式下使用\rif-modified-since get 条件请求\r--no-use-server-timestamps 不用服务器上的时间戳来设置本地文件\r-S, --server-response 打印服务器响应\r--spider 不下载任何文件\r-T, --timeout=SECONDS 将所有超时设为 SECONDS 秒\r--dns-timeout=SECS 设置 DNS 查寻超时为 SECS 秒\r--connect-timeout=SECS 设置连接超时为 SECS 秒\r--read-timeout=SECS 设置读取超时为 SECS 秒\r-w, --wait=SECONDS wait SECONDS between retrievals\r(applies if more then 1 URL is to be retrieved)\r--waitretry=SECONDS wait 1..SECONDS between retries of a retrieval\r(applies if more then 1 URL is to be retrieved)\r--random-wait wait from 0.5*WAIT...1.5*WAIT secs between retrievals\r(applies if more then 1 URL is to be retrieved)\r--no-proxy 禁止使用代理\r-Q, --quota=数字 设置获取配额为 \u0026lt;数字\u0026gt; 字节\r--bind-address=ADDRESS 绑定至本地主机上的 ADDRESS (主机名或是 IP)\r--limit-rate=RATE 限制下载速率为 RATE\r--no-dns-cache 关闭 DNS 查询缓存\r--restrict-file-names=系统 限定文件名中的字符为 \u0026lt;系统\u0026gt; 允许的字符\r--ignore-case 匹配文件/目录时忽略大小写\r-4, --inet4-only 仅连接至 IPv4 地址\r-6, --inet6-only 仅连接至 IPv6 地址\r--prefer-family=地址族 首先连接至指定家族（IPv6，IPv4 或 none）的地址\r--user=用户 将 ftp 和 http 的用户名均设置为 \u0026lt;用户\u0026gt;\r--password=密码 将 ftp 和 http 的密码均设置为 \u0026lt;密码\u0026gt;\r--ask-password 提示输入密码\r--use-askpass=命令 指定用于请求用户名和密码的凭据管理器。\r如果没有提供指定命令，程序将使用 WGET_ASKPASS 或\rSSH_ASKPASS 环境变量。\r--no-iri 关闭 IRI 支持\r--local-encoding=ENC 使用 ENC 作为 IRI (国际化资源标识符) 的本地编码\r--remote-encoding=ENC 使用 ENC 作为默认远程编码\r--unlink 覆盖前移除文件\r--xattr 在文件的拓展属性中储存元数据\r目录：\r-nd, --no-directories 不创建目录\r-x, --force-directories 强制创建目录\r-nH, --no-host-directories 不要创建主 (host) 目录\r--protocol-directories 在目录中使用协议名称\r-P, --directory-prefix=前缀 保存文件到 \u0026lt;前缀\u0026gt;/..\r--cut-dirs=数字 忽略远程目录中 \u0026lt;数字\u0026gt; 个目录层。\rHTTP 选项：\r--http-user=用户 设置 http 用户名为 \u0026lt;用户\u0026gt;\r--http-password=密码 设置 http 密码为 \u0026lt;密码\u0026gt;\r--no-cache 不使用服务器缓存的数据。\r--default-page=NAME 改变默认页 (通常是“index.html”)。\r-E, --adjust-extension 以合适的扩展名保存 HTML/CSS 文档\r--ignore-length 忽略头部的‘Content-Length’区域\r--header=字符串 在头部插入 \u0026lt;字符串\u0026gt;\r--compression=类型 选择压缩类型，值可以为 auto、gzip 和 none。（默认：none）\r--max-redirect 每页所允许的最大重定向\r--proxy-user=用户 使用 \u0026lt;用户\u0026gt; 作为代理用户名\r--proxy-password=密码 使用 \u0026lt;密码\u0026gt; 作为代理密码\r--referer=URL 在 HTTP 请求头包含‘Referer: URL’\r--save-headers 将 HTTP 头保存至文件。\r-U, --user-agent=代理 标识自己为 \u0026lt;代理\u0026gt; 而不是 Wget/VERSION。\r--no-http-keep-alive 禁用 HTTP keep-alive (持久连接)。\r--no-cookies 不使用 cookies。\r--load-cookies=文件 会话开始前从 \u0026lt;文件\u0026gt; 中载入 cookies。\r--save-cookies=文件 会话结束后保存 cookies 至 FILE。\r--keep-session-cookies 载入并保存会话 (非永久) cookies。\r--post-data=字符串 使用 POST 方式；把 \u0026lt;字串\u0026gt;作为数据发送。\r--post-file=文件 使用 POST 方式；发送 \u0026lt;文件\u0026gt; 内容。\r--method=HTTP方法 在请求中使用指定的 \u0026lt;HTTP 方法\u0026gt;。\r--post-data=字符串 把 \u0026lt;字串\u0026gt; 作为数据发送，必须设置 --method\r--post-file=文件 发送 \u0026lt;文件\u0026gt; 内容，必须设置 --method\r--content-disposition 当选择本地文件名时允许 Content-Disposition\r头部 (实验中)。\r--content-on-error 在服务器错误时输出接收到的内容\r--auth-no-challenge 不先等待服务器询问就发送基本 HTTP 验证信息。\rHTTPS (SSL/TLS) 选项：\r--secure-protocol=PR choose secure protocol, one of auto, SSLv2,\rSSLv3, TLSv1, TLSv1_1, TLSv1_2, TLSv1_3 and PFS\r--https-only 只跟随安全的 HTTPS 链接\r--no-check-certificate 不要验证服务器的证书。\r--certificate=文件 客户端证书文件。\r--certificate-type=类型 客户端证书类型，PEM 或 DER。\r--private-key=文件 私钥文件。\r--private-key-type=类型 私钥文件类型，PEM 或 DER。\r--ca-certificate=文件 带有一组 CA 证书的文件。\r--ca-directory=DIR 保存 CA 证书的哈希列表的目录。\r--ca-certificate=文件 带有一组 CA 证书的文件。\r--pinnedpubkey=文件/散列值 用于验证节点的公钥（PEM/DER）文件或\r任何数量的 sha256 散列值，以 base64 编码、\r“sha256//” 开头、用“;”间隔\r--ciphers=STR 直接设置 priority string (GnuTLS) 或 cipher list string (OpenSSL)。\r请小心使用。该选项会覆盖 --secure-protocol。\r其具体格式和字符串语法取决于对应的 SSL/TLS 引擎。\rHSTS 选项：\r--no-hsts 禁用 HSTS\r--hsts-file HSTS 数据库路径（将覆盖默认值）\rFTP 选项：\r--ftp-user=用户 设置 ftp 用户名为 \u0026lt;用户\u0026gt;。\r--ftp-password=密码 设置 ftp 密码为 \u0026lt;密码\u0026gt;\r--no-remove-listing 不要删除‘.listing’文件\r--no-glob 不在 FTP 文件名中使用通配符展开\r--no-passive-ftp 禁用“passive”传输模式\r--preserve-permissions 保留远程文件的权限\r--retr-symlinks 递归目录时，获取链接的文件 (而非目录)\rFTPS 选项：\r--ftps-implicit 使用隐式 FTPS（默认端口 990）\r--ftps-resume-ssl 打开数据连接时继续控制连接中的 SSL/TLS 会话\r--ftps-clear-data-connection 只加密控制信道；数据传输使用明文\r--ftps-fallback-to-ftp 回落到 FTP，如果目标服务器不支持 FTPS\rWARC 选项：\r--warc-file=文件名 在一个 .warc.gz 文件里保持请求/响应数据\r--warc-header=字符串 在头部插入 \u0026lt;字符串\u0026gt;\r--warc-max-size=数字 将 WARC 的最大尺寸设置为 \u0026lt;数字\u0026gt;\r--warc-cdx 写入 CDX 索引文件\r--warc-dedup=文件名 不要记录列在此 CDX 文件内的记录\r--no-warc-compression 不要 GZIP 压缩 WARC 文件\r--no-warc-digests 不要计算 SHA1 摘要\r--no-warc-keep-log 不要在 WARC 记录中存储日志文件\r--warc-tempdir=目录 WARC 写入器的临时文件目录\r递归下载：\r-r, --recursive 指定递归下载\r-l, --level=数字 最大递归深度 (inf 或 0 代表无限制，即全部下载)。\r--delete-after 下载完成后删除本地文件\r-k, --convert-links 让下载得到的 HTML 或 CSS 中的链接指向本地文件\r--convert-file-only 只转换 URL 的文件部分（一般叫做“基础名”/basename）\r--backups=N 写入文件 X 前，轮换移动最多 N 个备份文件\r-K, --backup-converted 在转换文件 X 前先将它备份为 X.orig。\r-m, --mirror -N -r -l inf --no-remove-listing 的缩写形式。\r-p, --page-requisites 下载所有用于显示 HTML 页面的图片之类的元素。\r--strict-comments 用严格方式 (SGML) 处理 HTML 注释。\r递归接受/拒绝：\r-A, --accept=列表 逗号分隔的可接受的扩展名列表\r-R, --reject=列表 逗号分隔的要拒绝的扩展名列表\r--accept-regex=REGEX 匹配接受的 URL 的正则表达式\r--reject-regex=REGEX 匹配拒绝的 URL 的正则表达式\r--regex-type=类型 正则类型 (posix|pcre)\r-D, --domains=列表 逗号分隔的可接受的域名列表\r--exclude-domains=列表 逗号分隔的要拒绝的域名列表\r--follow-ftp 跟踪 HTML 文档中的 FTP 链接\r--follow-tags=列表 逗号分隔的跟踪的 HTML 标识列表\r--ignore-tags=列表 逗号分隔的忽略的 HTML 标识列表\r-H, --span-hosts 递归时转向外部主机\r-L, --relative 仅跟踪相对链接\r-I, --include-directories=列表 允许目录的列表\r--trust-server-names 使用重定向 URL 的最后一段作为本地文件名\r-X, --exclude-directories=列表 排除目录的列表\r-np, --no-parent 不追溯至父目录\r请将问题报告和讨论内容电子邮件发送至 \u0026lt;bug-wget@gnu.org\u0026gt;\r和/或在 https://savannah.gnu.org/bugs/?func=additem\u0026amp;group=wget 开 issue 进行讨论。 "},{"id":26,"href":"/docs/%E7%AC%94%E8%AE%B0%E6%9C%AC/win11-ltsc/notepad/","title":"Notepad","section":"windows 11","content":"\rnotepad 优化\r#\rhttps://github.com/notepad-plus-plus/notepad-plus-plus/releases/download/v8.7.7/npp.8.7.7.Installer.x64.exe 自动换行+ UTF-8 + Unix\r#\r视图-\u0026gt;自动换行 设置-\u0026gt;首选项-\u0026gt;新建-\u0026gt;Unix(LF) 设置-\u0026gt;首选项-\u0026gt;新建-\u0026gt;UTF-8(无BOM)\n暗黑模式\r#\r设置-\u0026gt;首选项-\u0026gt;暗黑模式-\u0026gt;开启暗黑模式\n备份\r#\r设置-\u0026gt;首选项-\u0026gt;备份\n冗余备份-\u0026gt; 使用自定义备份目录(D:\\temp\\) 默认搜索\r#\rhttps://cn.bing.com/search?q=$(CURRENT_WORD) 常用插件\r#\rNppExec\r#\r在nppexec中不能用交互式命令,所以在tools.bat中补全 暗色需要在NppExec\u0026ndash;\u0026gt;Advanced Options\u0026ndash;\u0026gt;Blackgroundcolor设置为 66 66 66 插件下也有个style.css文件,有需要自己改 npp_save if $(ext_part) ==.java goto java if $(ext_part) ==.bat goto bat if $(ext_part) ==.md goto hugo exit :java env_set java_home=d:\\tools\\ideaic\\jbr env_set path=$(sys.path);$(sys.java_home)\\bin cd $(current_directory) javac -encoding UTF-8 -d d:\\workspaces\\.tmp $(file_name) cd d:\\workspaces\\.tmp //cls java $(name_part) exit :bat cd $(current_directory) $(FILE_NAME) exit :hugo cd C:\\Users\\docker\\Desktop\\zian hugo server -b0.0.0.0 -p80 exit 修改hosts文件\r#\rnpp_open C:\\WINDOWS\\system32\\drivers\\etc\\hosts exit NppMarkdown Panel\r#\r下载NppMarkdownPanel.css,已优化的深色模式css,放在NppMarkdownPanel插件文件夹内 插件-\u0026gt;NppMarkdownPanel-\u0026gt;Edit Setting-\u0026gt;CSS file(选择NppMarkdownPanel.css)(大小看屏幕)\n新版已自带深色模式,调节大小就可以 "},{"id":27,"href":"/docs/%E7%AC%94%E8%AE%B0%E6%9C%AC/win11-ltsc/%E6%89%A9%E5%B1%95%E5%91%BD%E4%BB%A4/","title":"扩展命令","section":"windows 11","content":"\r扩展命令\r#\rpowershell虽然好用,但是命令与Linux差别巨大 wget hugo "},{"id":28,"href":"/docs/%E7%AC%94%E8%AE%B0%E6%9C%AC/win11-ltsc/%E8%99%8E%E7%89%99%E6%8E%A8%E6%B5%81/","title":"虎牙推流","section":"windows 11","content":"\r虎牙推流\r#\r虎牙直播\r#\r-re (input) 以本机帧速率读取输入。这相当于设置-readrate 1。 -stream_loop number (input) 设置输入流应循环的次数。Loop 0表示无循环，loop-1表示无限循环。 -codec[:stream_specifier] codec (input/output,per-stream)为一个或多个流选择编码器（当在输出文件之前使用时）或解码器（当在输入文件之前使用时）。codec是解码器/编码器的名称或特殊值copy（仅输出），指示流不被重新编码。 -c: copy 表示所有流格式都是复制 nohup ffmpeg -re -stream_loop -1 -i bbb.mp4 -c: copy -f flv \u0026#34;rtmp://al.direct.huya.com/huyalive/1787660552-1787660552-7438266878141176820-3575444560-10057-A-1731860186-1?seq=1731856465590\u0026amp;type=simple\u0026#34; \u0026amp; 最快的剪辑视频\r#\rffmpeg -ss 1:25 -i 3.2_CG16_2_mux.mp4 -c: copy bbb.mp4 "},{"id":29,"href":"/docs/%E7%AC%94%E8%AE%B0%E6%9C%AC/win11-ltsc/%E8%B5%84%E6%BA%90%E4%B8%8B%E8%BD%BD/","title":"资源下载","section":"windows 11","content":"\r资源下载\r#\rwin11x64\n开发软件\r#\rwebstorm(非商业免费) idea goland WebStorm 2024.2.4 及更新版本才可以获取非商业许可证。 非商业订阅的期限为一年，一年后将自动续订\n"},{"id":30,"href":"/docs/%E7%AC%94%E8%AE%B0%E6%9C%AC/linux/%E7%B3%BB%E7%BB%9F%E6%8E%A8%E8%8D%90/","title":"系统推荐","section":"笔记本","content":"\r系统推荐\r#\rCinnamon是debian官方维护的桌面系统，是debian中的一个桌面，个人感觉比较好看\n使用默认安装即可\n"},{"id":31,"href":"/docs/%E5%85%B6%E4%BB%96%E8%AE%BE%E5%A4%87/%E6%97%A7%E7%89%88%E7%B3%BB%E7%BB%9F/","title":"旧版系统","section":"硬件库","content":"\r旧版系统\r#\rwin 10 ltsc\r#\r下载 ed2k://|file|LTSC_2021_X64.ISO|5044211712|1555B7DCA052B5958EE68DB58A42408D|/\nwin 7\r#\r专业版VL\n旗舰版下载 ed2k://|file|windows_7_ultimate_x64.iso|3419052032|56E90251E665E643C81168F6DD870BCB|/ win7旗舰版不能用kms激活。\nchrome浏览器取消不更新提醒chrome.reg Windows Registry Editor Version 5.00\r[HKEY_CURRENT_USER\\Software\\Policies\\Google\\Chrome]\r\u0026#34;SuppressUnsupportedOSWarning\u0026#34;=dword:00000001 QQ拼音输入法 激活win7pro vl版 slmgr /skms kms.03k.org\rslmgr /ato 虚拟机安装\r#\r管理器右侧新建虚拟网络交换机\u0026ndash;连接类型\u0026ndash;外部网络 第一代虚拟机 4G内存+关闭动态(否则win7安装不了) 虚拟机设置网络适配器\u0026ndash;高级功能\u0026ndash;静态MAC "},{"id":32,"href":"/docs/%E5%85%B6%E4%BB%96%E8%AE%BE%E5%A4%87/%E7%A1%AC%E7%9B%98%E5%88%86%E7%B1%BB/","title":"硬盘分类","section":"硬件库","content":"\r硬盘分类\r#\r硬盘型号 容量 系统 备注 机械盘 希捷500G exfat 数据盘 机械盘 三星500G exfat 数据盘 机械盘 三星250G Win7pro 三星台式系统盘 机械盘 500G 神舟 机械盘 140G win7专业版 郎科 64G LTSC2021 闪迪 16G 长城 16G 长城 8G Debian12.8 debian-12.8.0-amd64-DVD-1.iso版 浪潮 4G 预 笔记本用,台式机会识别出软驱无法使用 "},{"id":33,"href":"/docs/%E5%85%B6%E4%BB%96%E8%AE%BE%E5%A4%87/%E8%AE%BE%E5%A4%87%E8%B5%84%E6%96%99/","title":"设备资料","section":"硬件库","content":"\r设备资料\r#\r台式机\r#\rF2:进入BIOS ESC:选择启动盘 三星 DM-Z250 win7x64英特尔驱动 win7x64网卡驱动 笔记本\r#\r8852ae驱动 "},{"id":34,"href":"/docs/%E4%BB%A3%E7%A0%81%E5%BA%93/%E4%B8%BB%E9%A2%98%E6%95%99%E7%A8%8B/","title":"主题教程","section":"代码库","content":"\r主题教程\r#\r短码使用\r#\rcontent\\docs*.md中引用 {{\u0026lt; video src=\u0026#34;/1.mp4\u0026#34; \u0026gt;}}{{\u0026lt; /video \u0026gt;}} 在短码中配置(layouts/shortcodes/video.html) \u0026lt;video controls width=\u0026#34;100%\u0026#34;\u0026gt;\r\u0026lt;source {{ with .Get \u0026#34;src\u0026#34; }} src=\u0026#34;{{.}}\u0026#34; {{ end }} type=\u0026#34;video/mp4\u0026#34; /\u0026gt;\r{{ .Inner }}\r\u0026lt;/video\u0026gt; 图片相对文件位置\r#\r./post/1111-11-11.md引用当前目录下1.jpg编译后路径为./post/1111-11-11/1.jpg ./post/1111-11-11/index.md引用当前目录下1.jpg编译后路径为./post/1111-11-11/1.jpg ./post/1111-11-11/_index.md为子节点不要写文章,叶子节点的为index.md "},{"id":35,"href":"/docs/%E4%BB%A3%E7%A0%81%E5%BA%93/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%BA%90/","title":"前端资源","section":"代码库","content":"\r前端资料\r#\rWebStorm\r#\r下载地址 https://www.jetbrains.com/webstorm/download/other.html\nBootstrap5.3\r#\r首页 https://getbootstrap.com/\n源码+示例 https://github.com/twbs/bootstrap/releases\nVue\r#\rhttps://cn.vuejs.org/\n网络问题先执行以下 npm config set registry https://registry.npmmirror.com "},{"id":36,"href":"/docs/%E4%BB%A3%E7%A0%81%E5%BA%93/%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC/","title":"执行脚本","section":"代码库","content":"\r服务器常用脚本\r#\r参考资料 https://github.com/fengyuhetao/shell\n常用定时器\r#\r自动休眠 清楚内存 更新容器内的git项目 定时器日志需要安装邮箱 apt install postfix -y (选择5. Local only)日志在/var/mail/用户下 */10 * * * * /usr/powersave.sh\r*/10 * * * * echo 3 \u0026gt; /proc/sys/vm/drop_caches\r0 */2 * * * docker exec zian updategit powersave.sh\r#\r让机械硬盘休眠 让系统休眠 #!/bin/bash\rlogintime=`last docker --time-format iso | head -n1 | awk \u0026#39;{print $6}\u0026#39;`\r#logintime=\u0026#34;2024-09-11T07:18:18+08:00\u0026#34;\rif [ ${#logintime} -eq 6 ];then\rdate\recho \u0026#34;docker there\u0026#34;\relse\rlogintime=`date -d $logintime +%s`\rlogintime=$(expr $logintime)\rnow=$(expr `date +%s`)\rnow=$(expr $now - $logintime)\rif [ $now -gt 7200 ] ;then\rsystemctl suspend\relse\recho \u0026#34;docker leave\u0026#34; $now\rfi\rfi updategit\r#\r#!/bin/bash\rcd /var/www/\rcommand -v unzip \u0026gt;/dev/null 2\u0026gt;\u0026amp;1 || apt install -y unzip\rwget github.com/zi-an/zi-an.github.io/archive/refs/heads/master.zip\runzip -o master.zip\rrm master.zip kaibo.sh\r#\r#!/bin/bash\rcommand -v ffmpeg \u0026gt;/dev/null 2\u0026gt;\u0026amp;1 || apt install -y ffmpeg\rnohup ffmpeg -re -stream_loop -1 -i bbb.mp4 -c: copy -f flv \u0026#34;$1\u0026#34; \u0026amp; alias\r#\ralias zian=\u0026#34;docker exec -it zian bash\u0026#34;\ralias xunlei=\u0026#34;docker exec -it xunlei bash\u0026#34;\ralias maomiav=\u0026#34;docker exec -it maomiav bash\u0026#34;\ralias transmission=\u0026#34;docker exec -it transmission bash\u0026#34;\ralias transmission=\u0026#34;docker exec -it transmission bash\u0026#34;\ralias v2rayalog=\u0026#34;docker logs -fn20 v2raya\u0026#34;\ralias dockerps=\u0026#34;docker ps -a --format \u0026#39;table {{.Names}}\\t{{.Status}}\u0026#39;\u0026#34; "},{"id":37,"href":"/docs/%E4%BB%A3%E7%A0%81%E5%BA%93/%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91/","title":"代码编译","section":"代码库","content":"\r代码编译\r#\rmain.go\r#\rgo build main.go package main\rimport (\r\u0026#34;fmt\u0026#34;\r\u0026#34;io\u0026#34;\r\u0026#34;net/http\u0026#34;\r\u0026#34;net/url\u0026#34;\r\u0026#34;os\u0026#34;\r\u0026#34;os/exec\u0026#34;\r\u0026#34;strings\u0026#34;\r\u0026#34;time\u0026#34;\r)\rfunc main() {\rInit()\rserver := \u0026amp;http.Server{\rAddr: \u0026#34;0.0.0.0:8888\u0026#34;,\r}\rmux := http.NewServeMux()\rmux.HandleFunc(\u0026#34;/get\u0026#34;, get)\rmux.HandleFunc(\u0026#34;/post\u0026#34;, post)\rmux.HandleFunc(\u0026#34;/m3u8er\u0026#34;, m3u8er)\rmux.HandleFunc(\u0026#34;/noter\u0026#34;, noter)\rserver.Handler = mux\r_ = server.ListenAndServe()\r}\rfunc Init() {\rdirs := []string{\u0026#34;/home/nginx/m3u8/\u0026#34;, \u0026#34;/home/nginx/note/\u0026#34;}\rfor _, dir := range dirs {\r_, err := os.Stat(dir)\rif err == nil {\r_ = os.MkdirAll(dir, 0777)\r}\r}\r}\r// 获取客户端信息\rfunc get(w http.ResponseWriter, r *http.Request) {\rwrite := \u0026#34;ip:\u0026#34; + r.Header.Get(\u0026#34;X-Real-IP\u0026#34;) + \u0026#34;\\n\u0026#34;\rfor k, v := range r.Header {\rwrite = write + k + \u0026#34;:\u0026#34; + strings.Join(v, \u0026#34;;\u0026#34;) + \u0026#34;\\n\u0026#34;\r}\r_, _ = w.Write([]byte(write))\r}\r// 文件上传\r// 测试数据: curl http://127.0.0.1:8888/post -F file=@bank.jpg -H \u0026#34;Referer: http://127.0.0.1/?from=/upload/\u0026#34;\rfunc post(w http.ResponseWriter, r *http.Request) {\rfrom := r.Header.Get(\u0026#34;Referer\u0026#34;)\rfrom = from[strings.Index(from, \u0026#34;=/\u0026#34;)+1 : len(from)] //获取相对地址\rswitch r.Method {\rcase \u0026#34;GET\u0026#34;:\r_, _ = w.Write([]byte(string(\u0026#34;method is GET\u0026#34;)))\rcase \u0026#34;POST\u0026#34;:\r_ = r.ParseForm()\rimgFile, _, _ := r.FormFile(\u0026#34;file\u0026#34;) //获取文件内容\rdefer imgFile.Close()\rfiles := r.MultipartForm.File //获取表单中的信息\rimgName := files[\u0026#34;file\u0026#34;][0].Filename //获取表单文件中name为file的数据\rimgName = \u0026#34;.\u0026#34; + from + imgName\r_, err := os.Stat(imgName) //判断文件是否存在,在则隐藏并添加时间戳\rif err == nil {\rloc, _ := time.LoadLocation(\u0026#34;Asia/Taipei\u0026#34;)\rnewName := \u0026#34;.\u0026#34; + from + \u0026#34;.\u0026#34; + files[\u0026#34;file\u0026#34;][0].Filename + \u0026#34;.\u0026#34; + time.Now().In(loc).Format(\u0026#34;20060102_150405\u0026#34;)\r_ = os.Rename(imgName, newName)\r}\rsaveFile, _ := os.Create(imgName)\r_ = saveFile.Close()\r_, _ = io.Copy(saveFile, imgFile) //保存\rhttp.Redirect(w, r, \u0026#34;/?from=\u0026#34;+from, http.StatusSeeOther)\rdefault:\rfmt.Print(\u0026#34;error method\u0026#34;)\r}\r}\r// m3u8下载\rfunc m3u8er(w http.ResponseWriter, r *http.Request) {\ruri := r.PostFormValue(\u0026#34;uri\u0026#34;)\ruri, _ = url.QueryUnescape(uri)\rname := r.PostFormValue(\u0026#34;name\u0026#34;)\rfmt.Println(uri, \u0026#34;:\u0026#34;, name)\r_ = exec.Command(\u0026#34;m3u8downloader\u0026#34;, uri, name).Run()\rhttp.Redirect(w, r, \u0026#34;/?from=/m3u8/\u0026#34;, http.StatusSeeOther)\r}\rfunc noter(w http.ResponseWriter, r *http.Request) {\rnote := r.PostFormValue(\u0026#34;note\u0026#34;)\rfile, _ := os.OpenFile(\u0026#34;/home/nginx/note/note.log\u0026#34;, os.O_RDWR|os.O_CREATE|os.O_APPEND, 0666)\rloc, _ := time.LoadLocation(\u0026#34;Asia/Taipei\u0026#34;)\r_, _ = file.WriteString(time.Now().In(loc).Format(\u0026#34;0102_1504: \u0026#34;) + note + \u0026#34;\\n\u0026#34;)\rhttp.Redirect(w, r, \u0026#34;/?from=/note/\u0026#34;, http.StatusSeeOther)\r} "},{"id":38,"href":"/docs/%E4%BB%A3%E7%A0%81%E5%BA%93/%E5%9C%86%E5%91%A8%E8%AE%A1%E7%AE%97/","title":"圆周计算","section":"代码库","content":"\r计算圆周率\r#\r圆周率查询 https://www.pilookup.com/zh-cn/ 圆周率下载 https://www.pilookup.com/zh-cn/download.html 源代码 https://www.kurims.kyoto-u.ac.jp/~ooura/pi_fft.html 最大ftt值为536870912大约512M内存 使用FFT+AGM代码计算\r#\rapt install gcc make -y\rwget https://www.kurims.kyoto-u.ac.jp/~ooura/pi_fftc6_src.tgz\rtar -zxvf pi_fftc6_src.tgz\rcd pi_fftc6/\rsed -i \u0026#34;s|-fast|-Ofast|g\u0026#34; Makefile_64bit\rsed -i \u0026#39;s|scanf(\u0026#34;%lg\u0026#34;, \u0026amp;x)|x=100000|g\u0026#39; pi_fftcw.c\rmake -f Makefile_64bit\rnohup ./pi_cw \u0026amp;\rcat pi.dat 四行代码求圆周率\r#\r资料 https://cs.uwaterloo.ca/~alopez-o/math-faq/mathtext/node12.html pi.c如下,执行 * gcc pi.c \u0026amp;\u0026amp; ./a.out * #include \u0026lt;stdio.h\u0026gt;\rint a=10000,b,c=2800,d,e,f[2801],g;\rvoid main(){\rfor(;b-c;)f[b++]=a/5;\rfor(;d=0,g=c*2;c-=14,printf(\u0026#34;%.4d\u0026#34;,e+d/a),e=d%a)for(b=c;d+=f[b]*a,\rf[b]=d%--g,d/=g--,--b;d*=b);} 下载\r#\rwget https://files.pilookup.com/pi/1-100000000.zip\rwget https://files.pilookup.com/pi/100000001-200000000.zip\rwget https://files.pilookup.com/pi/200000001-300000000.zip wget https://files.pilookup.com/pi/300000001-400000000.zip wget https://files.pilookup.com/pi/400000001-500000000.zip wget https://files.pilookup.com/pi/500000001-600000000.zip wget https://files.pilookup.com/pi/600000001-700000000.zip wget https://files.pilookup.com/pi/700000001-800000000.zip wget https://files.pilookup.com/pi/800000001-900000000.zip wget https://files.pilookup.com/pi/900000001-1000000000.zip "},{"id":39,"href":"/docs/%E4%BB%A3%E7%A0%81%E5%BA%93/%E5%9F%9F%E5%90%8D%E9%85%8D%E7%BD%AE/","title":"域名配置","section":"代码库","content":"\r域名配置\r#\r100-125\r#\r127.0.0.1 x.mm\r120.76.158.149 ali.mm\r127.0.0.1 update.miui.com\r10.0.0.100 100.mm\r10.0.0.101 101.mm\r10.0.0.102 102.mm\r10.0.0.103 103.mm\r10.0.0.104 104.mm\r10.0.0.105 105.mm\r10.0.0.106 106.mm\r10.0.0.107 107.mm\r10.0.0.108 108.mm\r10.0.0.109 109.mm\r10.0.0.110 110.mm\r10.0.0.111 111.mm\r10.0.0.112 112.mm\r10.0.0.113 113.mm\r10.0.0.114 114.mm\r10.0.0.115 115.mm\r10.0.0.116 116.mm\r10.0.0.117 117.mm\r10.0.0.118 118.mm\r10.0.0.119 119.mm\r10.0.0.120 120.mm 200~225\r#\r10.0.0.200 200.mm\r10.0.0.201 201.mm\r10.0.0.202 202.mm\r10.0.0.203 203.mm\r10.0.0.204 204.mm\r10.0.0.205 205.mm\r10.0.0.206 206.mm\r10.0.0.207 207.mm\r10.0.0.208 208.mm\r10.0.0.209 209.mm\r10.0.0.210 210.mm\r10.0.0.211 211.mm\r10.0.0.212 212.mm\r10.0.0.213 213.mm\r10.0.0.214 214.mm\r10.0.0.215 215.mm\r10.0.0.216 216.mm\r10.0.0.217 217.mm\r10.0.0.218 218.mm\r10.0.0.219 219.mm\r10.0.0.220 220.mm\r10.0.0.221 221.mm\r10.0.0.222 222.mm\r10.0.0.223 223.mm\r10.0.0.224 224.mm\r10.0.0.225 225.mm "}]